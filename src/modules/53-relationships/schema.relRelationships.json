{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "RelRelationship",
  "description": "Relationship link between entities",
  "type": "object",
  "properties": {
    "id": { "type": "string" },
    "clientId": { "type": "string" },
    "fromRefJson": {
      "type": "object",
      "properties": {
        "type": { "type": "string", "enum": ["person", "entity", "trust", "household"] },
        "id": { "type": "string" }
      },
      "required": ["type", "id"]
    },
    "toRefJson": {
      "type": "object",
      "properties": {
        "type": { "type": "string", "enum": ["person", "entity", "trust", "household"] },
        "id": { "type": "string" }
      },
      "required": ["type", "id"]
    },
    "relationshipTypeKey": {
      "type": "string",
      "enum": ["family", "role", "authority", "vendor_contact", "ownership_link"]
    },
    "roleLabel": { "type": "string" },
    "effectiveFrom": { "type": "string", "format": "date" },
    "effectiveTo": { "type": "string", "format": "date" },
    "evidenceDocIdsJson": {
      "type": "array",
      "items": { "type": "string" }
    },
    "sourceRefJson": {
      "type": "object",
      "properties": {
        "type": { "type": "string" },
        "id": { "type": "string" }
      }
    },
    "createdAt": { "type": "string", "format": "date-time" },
    "updatedAt": { "type": "string", "format": "date-time" }
  },
  "required": ["id", "clientId", "fromRefJson", "toRefJson", "relationshipTypeKey", "effectiveFrom", "createdAt", "updatedAt"]
}
