# Платформа — Модуль 22

## Назначение
Модуль "Платформа" объединяет все модули Wealth OS 1–21 в единое MVP приложение с работающей навигацией, демо режимом, глобальным поиском и сохраненными представлениями.

## Основные функции

### Демо режим
- **Инициализация демо данных** — одним кликом загружает синтетические данные во все коллекции
- **Сброс демо данных** — очищает все данные и возвращает систему в начальное состояние
- **Генерация событий** — создает новые алерты, задачи, сообщения для демонстрации workflow
- **Генерация конца месяца** — эмулирует процессы fee billing, invoices, отчетов

### Переключение персоны
Позволяет переключаться между ролями для демонстрации RBAC:
- **Owner/Admin** — полный доступ ко всем модулям
- **CIO** — инвестиционные решения, IPS, performance
- **CFO** — финансы, billing, reconciliation
- **Operations** — операционные процессы, workflow
- **Compliance** — комплаенс, риски, аудит
- **RM** — клиентские отношения, коммуникации
- **Advisor** — внешний советник, ограниченный доступ
- **Client** — клиентский портал, только чтение

### Глобальный поиск
Поиск по всем объектам системы:
- Households, Entities, Portfolios, Accounts
- Documents, Tasks, Threads, Invoices, Alerts

### Сохраненные представления
- Сохранение фильтров и колонок таблиц
- Закрепление в избранное (sidebar)
- Быстрый доступ к часто используемым view

### Навигация
- Проверка работоспособности всех маршрутов
- Breadcrumbs для навигации
- Deep links из KPI в детали

### Тур по системе
- Walkthrough по ключевым экранам
- Подсказки по интерфейсу

## KPI Dashboard

| KPI | Описание |
|-----|----------|
| Demo Active | Инициализированы ли демо данные |
| Seed Version | Версия текущего seed |
| Total Records | Общее количество записей |
| Nav Health | Процент работающих маршрутов |
| Open Tasks | Открытые задачи в системе |
| Open Alerts | Активные алерты |
| Notifications | Непрочитанные уведомления |
| Last Reset | Время последнего сброса |

## Вкладки

### Demo Mode
Управление демо данными и генерация событий.

### Search
Настройки глобального поиска.

### Saved Views
Список сохраненных представлений таблиц.

### Navigation
Проверка здоровья навигации по модулям.

### Tour
Настройки onboarding тура.

### Settings
Общие настройки платформы.

## API Endpoints

| Endpoint | Метод | Описание |
|----------|-------|----------|
| `/api/platform/demo/init` | POST | Инициализация демо данных |
| `/api/platform/demo/reset` | POST | Сброс демо данных |
| `/api/platform/demo/generate` | POST | Генерация событий |
| `/api/platform/demo/persona` | POST | Смена персоны |
| `/api/search` | GET | Глобальный поиск |

## Дисклеймер

> **Демо режим предназначен для тестирования и демонстрации. Данные являются синтетическими.**

## MVP Ограничения

- Seed профили только small/medium/full
- Поиск линейный (без индексации)
- Tour — базовые подсказки
- Навигация — статическая проверка маршрутов
