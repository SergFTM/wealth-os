{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "PushSubscription",
  "type": "object",
  "properties": {
    "id": { "type": "string", "format": "uuid" },
    "clientId": { "type": "string", "format": "uuid" },
    "deviceId": { "type": "string", "format": "uuid" },
    "userId": { "type": "string", "format": "uuid" },
    "topicsJson": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["approvals", "reports", "risk", "invoices", "messages", "tasks", "alerts", "documents"]
      }
    },
    "status": {
      "type": "string",
      "enum": ["active", "paused", "expired"],
      "default": "active"
    },
    "endpoint": { "type": "string" },
    "p256dh": { "type": "string" },
    "auth": { "type": "string" },
    "createdAt": { "type": "string", "format": "date-time" },
    "updatedAt": { "type": "string", "format": "date-time" }
  },
  "required": ["id", "clientId", "deviceId", "userId", "topicsJson", "status", "createdAt"]
}
